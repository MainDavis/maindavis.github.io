---
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const entries = await getCollection("projectsEs");
  const projectEntries = entries.filter(
    (entry) => !entry.slug.includes("/") || entry.slug.endsWith("/index")
  );

  return projectEntries.map((entry) => ({
    params: { project: entry.slug.replace(/\/index$/, "") },
  }));
}

const target = `/es/arsenal/${Astro.params.project}`;
---
<html lang="es">
  <head>
    <meta http-equiv="refresh" content={`0; url=${target}`} />
    <link rel="canonical" href={target} />
    <title>Redirecting...</title>
  </head>
  <body>Redirecting...</body>
</html>
